<!doctype html>
<html>
<head>
		<title>Hw1</title>
		</head>
	<style>

		.bar {
		fill: steelblue;
		}

		.bar:hover {
		fill: brown;
		}

				.axis {
				  font: 10px sans-serif;
				}

				.axis path,
				.axis line {
				  fill: none;
				  stroke: #000;
				  shape-rendering: crispEdges;
				}

				.x.axis path {
				  display: none;
				}

</style>
	
	<body>
	
	<!--Location of Script Libraries-->
	<script src="http://d3js.org/d3.v3.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.6/d3.min.js"></script>
			<script>
						
			var url = "http://earthquake.usgs.gov/earthquakes/feed/v1.0/summary/2.5_day.geojson";

			var margin = {top: 20, right: 20, bottom: 30, left: 40},
					width = 960 - margin.left - margin.right,
					height = 500 - margin.top - margin.bottom;

			var x = d3.scale.ordinal()
				.rangeRoundBands([0, width], .1);

			var y = d3.scale.linear()
				.range([height, 0]);

			var xAxis = d3.svg.axis()
				.scale(x)
				.orient("bottom");

			var yAxis = d3.svg.axis()
				.scale(y)
				.orient("left")
				.ticks(10, "%");
			
			//Building container
			var svg = d3.select("body").append("svg")
							.attr("width", width)
							.attr("height", height);
							
							
			//load the data
				d3.json(url, function(error, data) {
			  if (error) console.log(error);
			  console.log(data);
			  
			  //Binding the data
			  var group = svg.selectAll("g")
								//name of array of object is features
								.data(data.features)
								.enter()
								.append("g")
				
				//define the x axis as the place of the earthquake				
				x.domain(data.map(function(d) { return d.properties.place; }));
				
				//define the y axis as the magnitude
				y.domain([0, d3.max(data, function(d) { return d.properties.mag; })]);

				  svg.append("g")
					  .attr("class", "x axis")
					  .attr("transform", "translate(0," + height + ")")
					  .call(xAxis);

				  svg.append("g")
					  .attr("class", "y axis")
					  .call(yAxis)
					.append("text")
					  .attr("transform", "rotate(-90)")
					  .attr("y", 6)
					  .attr("dy", ".71em")
					  .style("text-anchor", "end")
					  .text("Magitude");

				  svg.selectAll(".bar")
					  .data(data)
						.enter()
						.append("rect")
					  .attr("class", "bar")
					  .attr("x", function(d) { return x(d.properties.place); })
					  .attr("width", x.rangeBand())
					  .attr("y", function(d) { return y(d.properties.mag); })
					  .attr("height", function(d) { return height - y(d.properties.mag); });
				
						
			});


			
			
			</script>
	</body>
	
</html>
